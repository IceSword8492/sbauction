(function(t){function a(a){for(var n,s,r=a[0],u=a[1],c=a[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(a);while(p.length)p.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,r=1;r<e.length;r++){var u=e[r];0!==o[u]&&(n=!1)}n&&(i.splice(a--,1),t=s(s.s=e[0]))}return t}var n={},o={app:0},i=[];function s(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)s.d(e,n,function(a){return t[a]}.bind(null,n));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=a,r=r.slice();for(var c=0;c<r.length;c++)a(r[c]);var l=u;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var n=e("85ec"),o=e.n(n);o.a},"56d7":function(t,a,e){"use strict";e.r(a);var n=e("2b0e"),o=e("8c4f"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:""}},[e("v-row",{attrs:{dense:""}},t._l(t.cards,(function(a,n){return e("v-col",{key:n,staticClass:"v-application",attrs:{xs:"12",sm:"12",md:"2",lg:"2"}},[e("v-card",{staticStyle:{width:"100%"}},[e("v-img",{staticClass:"white--text align-end purple",attrs:{src:a.img,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"150px"}},[e("v-card-title",{staticStyle:{"word-break":"break-word"},domProps:{textContent:t._s(a.item_name)}})],1),e("v-card-actions",[t._v(" â‚¡"+t._s(a.highest_bid_amount||a.starting_bid)+" "),e("v-spacer"),e("v-btn",{attrs:{icon:""}},[e("v-icon",[t._v("mdi-heart")])],1)],1)],1)],1)})),1)],1)},s=[],r={data:function(){return{auctions:[],sortMethod:this.sort_bid_amount_desc,limit:48}},computed:{cards:function(){return this.$data.auctions.filter((t,a)=>"Spicy Aspect of the End"===t.item_name)}},methods:{getData:async function(){this.$data.auctions=[];let t=1,a=(await this.$axios.get("/api/v1/auctions/1")).data;t=a.totalPages,this.$data.auctions.push(...a.auctions),this.$data.auctions.sort(this.sortMethod);for(let e=2;e<t;e++)a=(await this.$axios.get("/api/v1/auctions/"+e)).data,this.$data.auctions.push(...a.auctions),this.$data.auctions.sort(this.sortMethod)},mergeData:async function(){console.log("MERGE STARTED");let t=1,a=(await this.$axios.get("/api/v1/auctions/1")).data;t=a.totalPages,this.$data.auctions=this.merge(this.$data.auctions,a.auctions,"uuid"),this.$data.auctions.sort(this.sortMethod);for(let e=2;e<t;e++)a=(await this.$axios.get("/api/v1/auctions/"+e)).data,this.$data.auctions=this.merge(this.$data.auctions,a.auctions,"uuid"),this.$data.auctions.sort(this.sortMethod);console.log("MERGED")},merge:function(t,a,e){return Object.values([...t,...a].reduce((t,a)=>{return t[a[e]]=a,t},{}))},sort_bid_amount_desc:function(t,a){return(a.highest_bid_amount||a.starting_bid)-(t.highest_bid_amount||t.starting_bid)},sort_bid_amount_asc:function(t,a){return(t.highest_bid_amount||t.starting_bid)-(a.highest_bid_amount||a.starting_bid)}},created:function(){this.mergeData(),setInterval(t=>{this.mergeData()},6e4)}},u=r,c=e("2877"),l=Object(c["a"])(u,i,s,!1,null,null,null),d=l.exports,p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-card",{staticClass:"mx-auto col-10"},[e("v-card-title",[t._v(" Login ")]),e("v-card-text",[e("v-text-field",{attrs:{"error-messages":t.errorMcid,label:"Minecraft ID",required:""},model:{value:t.mcid,callback:function(a){t.mcid=a},expression:"mcid"}})],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{text:"",large:""},on:{click:t.login}},[t._v("Login")])],1)],1)},h=[],g={data:function(){return{mcid:"",errorMcid:""}},methods:{login:async function(){let t=await this.$axios.get("/api/v1/auth/"+this.$data.mcid);if(console.log(t.data),0!==t.data.indexOf("success"))return alert("f"),!1;this.$store.commit({type:"login",mcid:this.$data.mcid,uuid:t.data.match(/{{(?<uuid>(?:(?!{{|}}).)+)}}/).groups.uuid}),location.href="/"}}},f=g,m=Object(c["a"])(f,p,h,!1,null,null,null),v=m.exports,b=new o["a"]({mode:"history",routes:[{path:"/",name:"index",component:d},{path:"/login",name:"login",component:v},{path:"/register",name:"/register",component:null},{path:"/logout",name:"/logout",component:null},{path:"/home",name:"/home",component:null,meta:{requiresAuth:!0}}]}),_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",{attrs:{id:"app"}},[e("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-white shadow-sm"},[e("div",{staticClass:"container"},[e("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v(" Skyblock Auction ")]),e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav ml-auto"},[!t.user||t.user&&t.user.length&&0===t.user.length?e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"/login"}},[t._v("Login")])]):t._e(),t.user&&t.user.length&&0!==t.user.length?e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on;return[e("a",t._g({staticClass:"nav-link dropdown-toggle",attrs:{id:"navbarDropdown",href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},n),[t._v(" "+t._s(t.user)+" "),e("img",{attrs:{src:"https://avatar.minecraft.jp/"+t.user+"/minecraft/l.png",width:"20px",height:"20px"}}),e("span",{staticClass:"caret"})])]}}],null,!1,3663036367)},[e("v-list",[e("v-list-item",[e("v-list-item-title",{on:{click:t.logout}},[t._v("Logout")])],1)],1)],1):t._e()],1)])])]),e("main",{staticClass:"py-4"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[e("router-view")],1)])])])},y=[],w={name:"app",components:{sbAuctions:d},data:function(){return{user:this.$mcid}},methods:{logout:function(){this.$store.commit({type:"logout"}),location.href="/"}}},x=w,$=(e("034f"),Object(c["a"])(x,_,y,!1,null,null,null)),k=$.exports,S=e("ce5b"),C=e.n(S),O=e("5f5b"),j=(e("bf40"),e("bc3a")),M=e.n(j),P=e("2f62"),E=e("0e44");const A={token:""},D={login(t,a){t.mcid=a.mcid,t.uuid=a.uuid},logout(t){t.mcid=null,t.uuid=null}};var I={state:A,mutations:D};n["default"].use(P["a"]);var T=new P["a"].Store({modules:{auth:I},strict:!0,plugins:[Object(E["a"])({key:"SkyblockAuction",paths:["auth.mcid","auth.uuid"],storage:window.sessionStorage})]});let q={loggedIn:!1,login:function(){this.loggedIn=!0},logout:function(){this.loggedIn=!1}};if(n["default"].config.productionTip=!1,n["default"].prototype.$axios=M.a,n["default"].use(o["a"]),n["default"].use(C.a),n["default"].use(O["a"]),b.beforeEach((t,a,e)=>{t.matched.some(t=>t.meta.requiresAuth)&&!q.loggedIn?e({path:"/login",query:{redirect:t.fullPath}}):e()}),sessionStorage.getItem("SkyblockAuction")){const t=JSON.parse(sessionStorage.getItem("SkyblockAuction"));t.auth.mcid&&(n["default"].prototype.$mcid=t.auth.mcid)}new n["default"]({router:b,store:T,vuetify:new C.a({}),render:function(t){return t(k)}}).$mount("#app")},"85ec":function(t,a,e){}});
//# sourceMappingURL=app.b83a8c7b.js.map