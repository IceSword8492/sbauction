(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=a("8c4f"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{dense:""}},t._l(t.cards,(function(e,n){return a("v-col",{key:n,staticClass:"v-application",attrs:{xs:"12",sm:"4",md:"3",lg:"2"}},[a("v-card",{staticStyle:{width:"100%"},on:{mouseenter:t.mouse_enter,mouseleave:t.mouse_leave}},[a("v-img",{staticClass:"white--text align-end purple",attrs:{src:e.img,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"150px"}},[a("v-card-title",{staticStyle:{"word-break":"break-word"},domProps:{textContent:t._s(e.item_name)}})],1),a("div",{staticClass:"my-4 subtitle-1 black--text"},[t._v(" "+t._s(e.end-(new Date).getTime()>0?Math.floor((e.end-(new Date).getTime())/1e3/3600)>99?Math.floor((e.end-(new Date).getTime())/1e3/3600/24)+" days":(Math.floor((e.end-(new Date).getTime())/1e3/3600)?(""+Math.floor((e.end-(new Date).getTime())/1e3/3600)).padStart(2,"0")+"h":"")+(Math.floor((e.end-(new Date).getTime())/1e3/3600)||Math.floor((e.end-(new Date).getTime())/1e3/60%60)?(""+Math.floor((e.end-(new Date).getTime())/1e3/60%60)).padStart(2,"0")+"m":"")+(""+Math.floor((e.end-(new Date).getTime())/1e3%60)).padStart(2,"0")+"s":"Ended!")+" ")]),a("v-divider",{staticClass:"mx-4"}),a("v-card-actions",[t._v(" ₡"+t._s((""+(e.highest_bid_amount||e.starting_bid)).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))+" "),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-heart")])],1)],1),a("div",{staticClass:"item_lore",staticStyle:{position:"fixed",visibility:"hidden"},domProps:{innerHTML:t._s(t.lore_converter(e.item_name,e.tier,e.item_lore))}})],1)],1)})),1)],1)},i=[],o={data:function(){return{auctions:[],sortMethod:this.sort_bid_amount_desc,limit:48}},computed:{cards:function(){return this.$data.auctions.filter((t,e)=>e<this.$data.limit)}},methods:{mergeData:async function(){let t=1,e=(await this.$axios.get("/api/v1/auctions/1")).data;t=e.totalPages,this.$data.auctions=this.merge(this.$data.auctions,e.auctions,"uuid"),this.$data.auctions.sort(this.sortMethod);for(let a=2;a<t;a++)e=(await this.$axios.get("/api/v1/auctions/"+a)).data,this.$data.auctions=this.merge(this.$data.auctions,e.auctions,"uuid"),this.$data.auctions.sort(this.sortMethod)},merge:function(t,e,a){return Object.values([...t,...e].reduce((t,e)=>{return t[e[a]]=e,t},{}))},sort_bid_amount_desc:function(t,e){return(e.highest_bid_amount||e.starting_bid)-(t.highest_bid_amount||t.starting_bid)},sort_bid_amount_asc:function(t,e){return(t.highest_bid_amount||t.starting_bid)-(e.highest_bid_amount||e.starting_bid)},mouse_enter:function(t){document.getElementById("item_lore").innerHTML=t.target.getElementsByClassName("item_lore")[0].innerHTML,document.getElementById("item_lore").style.visibility="visible"},mouse_leave:function(t){document.getElementById("item_lore").style.visibility="hidden"},lore_converter:function(t,e,a){let n="§r";switch(e.toLowerCase()){case"common":n="§f";break;case"uncommon":n="§2";break;case"rare":n="§9";break;case"epic":n="§5";break;case"legendary":n="§6";break;case"special":n="§d";break}return(n+t+"\n\n"+a).replace(/§k((?:(?!§[0-9a-z]).)*)/g,"<span>$1</span>").replace(/§l((?:(?!§[0-9a-z]).)*)/g,'<span style="font-weight: bold">$1</span>').replace(/§m((?:(?!§[0-9a-z]).)*)/g,'<span style="text-decoration: line-through">$1</span>').replace(/§n((?:(?!§[0-9a-z]).)*)/g,'<span style="text-decoration: underline">$1</span>').replace(/§o((?:(?!§[0-9a-z]).)*)/g,'<span style="font-style: italic">$1</span>').replace(/§r((?:(?!§[0-9a-z]).)*)/g,'<span style="color: #ffffff; font-style: normal; font-weight: normal; text-decoration: none;">$1</span>').replace(/§0((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #000000">$1</span>').replace(/§1((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #0000aa">$1</span>').replace(/§2((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #00aa00">$1</span>').replace(/§3((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #00aaaa">$1</span>').replace(/§4((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #aa0000">$1</span>').replace(/§5((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #aa00aa">$1</span>').replace(/§6((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #ffaa00">$1</span>').replace(/§7((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #aaaaaa">$1</span>').replace(/§8((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #555555">$1</span>').replace(/§9((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #5555ff">$1</span>').replace(/§a((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #55ff55">$1</span>').replace(/§b((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #55ffff">$1</span>').replace(/§c((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #ff5555">$1</span>').replace(/§d((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #ff55ff">$1</span>').replace(/§e((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #ffff55">$1</span>').replace(/§f((?:(?!§[0-9a-f]).)*)/g,'<span style="color: #ffffff">$1</span>').replace(/\r?\n/g,"<br />")}},created:function(){this.mergeData(),setInterval(t=>{this.mergeData()},6e4)}},l=o,c=a("2877"),u=Object(c["a"])(l,s,i,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto col-10"},[a("v-card-title",[t._v(" Login ")]),a("v-card-text",[a("v-text-field",{ref:"mcid",attrs:{"error-messages":t.errorMcid,label:"Minecraft ID",required:""},model:{value:t.mcid,callback:function(e){t.mcid=e},expression:"mcid"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",large:""},on:{click:t.login}},[t._v("Login")])],1)],1)},m=[],f={data:function(){return{mcid:"",errorMcid:""}},methods:{login:async function(){let t=await this.$axios.get("/api/v1/auth/"+this.$data.mcid);if(0!==t.data.indexOf("success"))return alert("f"),!1;this.$store.commit({type:"login",mcid:t.data.match(/<<(?<mcid>(?:(?!<<|>>).)+)>>/).groups.mcid,uuid:t.data.match(/{{(?<uuid>(?:(?!{{|}}).)+)}}/).groups.uuid}),location.href="/"}},mounted:function(){this.$refs.mcid.focus(),this.$refs.mcid.$el.addEventListener("keypress",t=>{let e=t.which||t.keyCode;13===e&&this.login()})}},g=f,h=Object(c["a"])(g,p,m,!1,null,null,null),v=h.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},y=[],_={methods:{logout:function(){this.$store.commit({type:"logout"}),location.href="/"}},created:function(){this.logout()}},$=_,w=Object(c["a"])($,b,y,!1,null,null,null),x=w.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto col-10"},[a("v-card-title",[t._v(" Home ")]),a("v-card-text",[a("v-text-field",{ref:"mcid",attrs:{"error-messages":t.errorMcid,label:"Minecraft ID",required:""},model:{value:t.mcid,callback:function(e){t.mcid=e},expression:"mcid"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",large:""},on:{click:t.login}},[t._v("Login")])],1)],1)},C=[],S={data:function(){return{mcid:"",errorMcid:""}},methods:{login:async function(){let t=await this.$axios.get("/api/v1/auth/"+this.$data.mcid);if(0!==t.data.indexOf("success"))return alert("f"),!1;this.$store.commit({type:"login",mcid:t.data.match(/<<(?<mcid>(?:(?!<<|>>).)+)>>/).groups.mcid,uuid:t.data.match(/{{(?<uuid>(?:(?!{{|}}).)+)}}/).groups.uuid}),this.$auth.login(),location.href="/"}},mounted:function(){this.$refs.mcid.focus(),this.$refs.mcid.$el.addEventListener("keypress",t=>{let e=t.which||t.keyCode;13===e&&this.login()})}},M=S,O=Object(c["a"])(M,k,C,!1,null,null,null),j=O.exports,T=new r["a"]({mode:"history",routes:[{path:"/",name:"index",component:d},{path:"/login",name:"login",component:v},{path:"/register",name:"/register",component:null},{path:"/logout",name:"/logout",component:x},{path:"/home",name:"/home",component:j,meta:{requiresAuth:!0}}]}),E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-white shadow-sm"},[a("div",{staticClass:"container"},[a("v-list",[a("v-list-item",{staticClass:"navbar-brand",on:{click:function(e){"/"!==t.$route.path&&t.$router.push("/")}}},[a("span",{staticClass:"font-weight-light grey--text"},[t._v("Skyblock")]),t._v(" "),a("span",{staticClass:"grey--text"},[t._v("Auction")])])],1),a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[a("span",{staticClass:"navbar-toggler-icon"})]),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("v-list",{staticClass:"navbar-nav ml-auto",staticStyle:{padding:"0"}},[!t.user||t.user&&t.user.length&&0===t.user.length?a("v-list-item",{staticClass:"nav-item",staticStyle:{"min-height":"0"},attrs:{to:"/login"}},[a("span",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")])]):t._e(),t.user&&t.user.length&&0!==t.user.length?a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("a",t._g({staticClass:"nav-link dropdown-toggle",attrs:{id:"navbarDropdown",href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},n),[t._v(" "+t._s(t.user)+" "),a("img",{attrs:{src:"https://avatar.minecraft.jp/"+t.user+"/minecraft/l.png",width:"20px",height:"20px"}}),a("span",{staticClass:"caret"})])]}}],null,!1,3663036367)},[a("v-list",[a("v-list-item",{attrs:{to:"home"}},[a("v-list-item-title",[t._v("Home")])],1),a("v-list-item",{attrs:{to:"logout"}},[a("v-list-item-title",{staticStyle:{height:"20px"}},[t._v("Logout")])],1)],1)],1):t._e()],1)],1)],1)]),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",{attrs:{"active-class":"text--accent-4"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[!t.user||t.user&&t.user.length&&0===t.user.length?a("v-list-item",{attrs:{to:"login"}},[a("v-list-item-title",[t._v("Login")])],1):t._e(),t.user&&t.user.length&&0!==t.user.length?a("div",{staticStyle:{margin:"10px 0"}},[a("span",{staticClass:"font-weight-light grey--text"},[t._v("Skyblock")]),t._v(" "),a("span",{staticClass:"grey--text"},[t._v("Auction")]),a("br"),a("br"),a("span",[t._v(t._s(t.user)+" "),a("img",{attrs:{src:"https://avatar.minecraft.jp/"+t.user+"/minecraft/l.png",width:"20px",height:"20px"}})])]):t._e(),t.user&&t.user.length&&0!==t.user.length?a("v-list-item",{attrs:{to:"home"}},[a("v-list-item-title",[t._v("Home")])],1):t._e(),t.user&&t.user.length&&0!==t.user.length?a("v-list-item",{attrs:{to:"logout"}},[a("v-list-item-title",[t._v("Logout")])],1):t._e()],1)],1)],1),a("main",{staticClass:"py-4"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("router-view")],1)])])],1)},L=[],D={name:"app",components:{sbAuctions:d},data:function(){return{user:this.$mcid,drawer:!1,group:null}},methods:{},created:function(){let t=document.createElement("div");t.id="stalker",t.style.zIndex="9999",t.style.position="fixed",t.innerHTML='<div id="pointer"></div><div id="item_lore">ITEMLORE</div>',document.body.insertBefore(t,document.body.firstChild),document.addEventListener("mousemove",(function(e){t.style.transform=`translate(${e.clientX}px,${e.clientY}px)`}))},watch:{group:function(){this.drawer=!1}}},I=D,P=(a("5c0b"),Object(c["a"])(I,E,L,!1,null,null,null)),A=P.exports,z=a("ce5b"),H=a.n(z),q=a("5f5b"),B=(a("bf40"),a("bc3a")),J=a.n(B),N=a("2f62"),R=a("0e44");const X={mcid:null,uuid:null},Y={login(t,e){t.mcid=e.mcid,t.uuid=e.uuid},logout(t){t.mcid=null,t.uuid=null}};var F={state:X,mutations:Y};n["default"].use(N["a"]);var G=new N["a"].Store({modules:{auth:F},strict:!0,plugins:[Object(R["a"])({key:"SkyblockAuction",paths:["auth.mcid","auth.uuid"],storage:window.sessionStorage})]}),K=a("b730"),Q=a.n(K);let U={loggedIn:!1};n["default"].config.productionTip=!1,n["default"].prototype.$axios=J.a,n["default"].prototype.$push=Q.a,n["default"].use(r["a"]),n["default"].use(H.a),n["default"].use(q["a"]),T.beforeEach((t,e,a)=>{if(sessionStorage.getItem("SkyblockAuction")){const t=JSON.parse(sessionStorage.getItem("SkyblockAuction"));t.auth.mcid&&(n["default"].prototype.$mcid=t.auth.mcid,U.loggedIn=!!t.auth.mcid)}t.matched.some(t=>t.meta.requiresAuth)&&!U.loggedIn?a({path:"/login",query:{redirect:t.fullPath}}):a()}),new n["default"]({router:T,store:G,vuetify:new H.a({}),render:function(t){return t(A)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.bcb9352b.js.map